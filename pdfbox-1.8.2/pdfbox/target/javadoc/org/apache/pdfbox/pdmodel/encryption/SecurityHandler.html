<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>SecurityHandler (pdfbox-1.8.2 API)</title>
<meta name="date" content="2013-10-18">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SecurityHandler (pdfbox-1.8.2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SecurityHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/PublicKeySecurityHandler.html" title="class in org.apache.pdfbox.pdmodel.encryption"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandlersManager.html" title="class in org.apache.pdfbox.pdmodel.encryption"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html" target="_top">Frames</a></li>
<li><a href="SecurityHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.pdfbox.pdmodel.encryption</div>
<h2 title="Class SecurityHandler" class="title">Class SecurityHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.pdfbox.pdmodel.encryption.SecurityHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/PublicKeySecurityHandler.html" title="class in org.apache.pdfbox.pdmodel.encryption">PublicKeySecurityHandler</a>, <a href="../../../../../org/apache/pdfbox/pdmodel/encryption/StandardSecurityHandler.html" title="class in org.apache.pdfbox.pdmodel.encryption">StandardSecurityHandler</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">SecurityHandler</span>
extends <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class represents a security handler as described in the PDF specifications.
 A security handler is responsible of documents protection.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Revision: 1.4 $</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:ben@benlitchfield.com">Ben Litchfield</a>, Benoit Guillon (benoit.guillon@snv.jussieu.fr)</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/pdfbox/pdmodel/encryption/AccessPermission.html" title="class in org.apache.pdfbox.pdmodel.encryption">AccessPermission</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#currentAccessPermission">currentAccessPermission</a></strong></code>
<div class="block">The access permission granted to the current user for the document.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/pdfbox/pdmodel/PDDocument.html" title="class in org.apache.pdfbox.pdmodel">PDDocument</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#document">document</a></strong></code>
<div class="block">The document whose security is handled by this security handler.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#encryptionKey">encryptionKey</a></strong></code>
<div class="block">The encryption key that will used to encrypt / decrypt.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#keyLength">keyLength</a></strong></code>
<div class="block">The length of the secret key used to encrypt the document.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/pdfbox/encryption/ARCFour.html" title="class in org.apache.pdfbox.encryption">ARCFour</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#rc4">rc4</a></strong></code>
<div class="block">The RC4 implementation used for cryptographic functions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#version">version</a></strong></code>
<div class="block">The value of V field of the Encryption dictionary.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#SecurityHandler()">SecurityHandler</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#decryptDocument(org.apache.pdfbox.pdmodel.PDDocument, org.apache.pdfbox.pdmodel.encryption.DecryptionMaterial)">decryptDocument</a></strong>(<a href="../../../../../org/apache/pdfbox/pdmodel/PDDocument.html" title="class in org.apache.pdfbox.pdmodel">PDDocument</a>&nbsp;doc,
               <a href="../../../../../org/apache/pdfbox/pdmodel/encryption/DecryptionMaterial.html" title="class in org.apache.pdfbox.pdmodel.encryption">DecryptionMaterial</a>&nbsp;mat)</code>
<div class="block">Prepare the document for decryption.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#decryptStream(org.apache.pdfbox.cos.COSStream, long, long)">decryptStream</a></strong>(<a href="../../../../../org/apache/pdfbox/cos/COSStream.html" title="class in org.apache.pdfbox.cos">COSStream</a>&nbsp;stream,
             long&nbsp;objNum,
             long&nbsp;genNum)</code>
<div class="block">This will decrypt a stream.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#decryptString(org.apache.pdfbox.cos.COSString, long, long)">decryptString</a></strong>(<a href="../../../../../org/apache/pdfbox/cos/COSString.html" title="class in org.apache.pdfbox.cos">COSString</a>&nbsp;string,
             long&nbsp;objNum,
             long&nbsp;genNum)</code>
<div class="block">This will decrypt a string.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#encryptData(long, long, java.io.InputStream, java.io.OutputStream)">encryptData</a></strong>(long&nbsp;objectNumber,
           long&nbsp;genNumber,
           <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;data,
           <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;output)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>While this works fine for RC4 encryption, it will never decrypt AES data
             You should use encryptData(objectNumber, genNumber, data, output, decrypt)
             which can do everything.  This function is just here for compatibility
             reasons and will be removed in the future.</i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#encryptData(long, long, java.io.InputStream, java.io.OutputStream, boolean)">encryptData</a></strong>(long&nbsp;objectNumber,
           long&nbsp;genNumber,
           <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;data,
           <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;output,
           boolean&nbsp;decrypt)</code>
<div class="block">Encrypt a set of data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#encryptStream(org.apache.pdfbox.cos.COSStream, long, long)">encryptStream</a></strong>(<a href="../../../../../org/apache/pdfbox/cos/COSStream.html" title="class in org.apache.pdfbox.cos">COSStream</a>&nbsp;stream,
             long&nbsp;objNum,
             long&nbsp;genNum)</code>
<div class="block">This will encrypt a stream, but not the dictionary as the dictionary is
 encrypted by visitFromString() in COSWriter and we don't want to encrypt
 it twice.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/AccessPermission.html" title="class in org.apache.pdfbox.pdmodel.encryption">AccessPermission</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#getCurrentAccessPermission()">getCurrentAccessPermission</a></strong>()</code>
<div class="block">Returns the access permissions that were computed during document decryption.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#getKeyLength()">getKeyLength</a></strong>()</code>
<div class="block">Getter of the property <tt>keyLength</tt>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#isAES()">isAES</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#prepareDocumentForEncryption(org.apache.pdfbox.pdmodel.PDDocument)">prepareDocumentForEncryption</a></strong>(<a href="../../../../../org/apache/pdfbox/pdmodel/PDDocument.html" title="class in org.apache.pdfbox.pdmodel">PDDocument</a>&nbsp;doc)</code>
<div class="block">Prepare the document for encryption.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#prepareForDecryption(org.apache.pdfbox.pdmodel.encryption.PDEncryptionDictionary, org.apache.pdfbox.cos.COSArray, org.apache.pdfbox.pdmodel.encryption.DecryptionMaterial)">prepareForDecryption</a></strong>(<a href="../../../../../org/apache/pdfbox/pdmodel/encryption/PDEncryptionDictionary.html" title="class in org.apache.pdfbox.pdmodel.encryption">PDEncryptionDictionary</a>&nbsp;encDictionary,
                    <a href="../../../../../org/apache/pdfbox/cos/COSArray.html" title="class in org.apache.pdfbox.cos">COSArray</a>&nbsp;documentIDArray,
                    <a href="../../../../../org/apache/pdfbox/pdmodel/encryption/DecryptionMaterial.html" title="class in org.apache.pdfbox.pdmodel.encryption">DecryptionMaterial</a>&nbsp;decryptionMaterial)</code>
<div class="block">Prepares everything to decrypt the document.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#proceedDecryption()">proceedDecryption</a></strong>()</code>
<div class="block">This method must be called by an implementation of this class to really proceed
 to decryption.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#setAES(boolean)">setAES</a></strong>(boolean&nbsp;aes)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#setKeyLength(int)">setKeyLength</a></strong>(int&nbsp;keyLen)</code>
<div class="block">Setter of the property <tt>keyLength</tt>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="version">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>version</h4>
<pre>protected&nbsp;int version</pre>
<div class="block">The value of V field of the Encryption dictionary.</div>
</li>
</ul>
<a name="keyLength">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyLength</h4>
<pre>protected&nbsp;int keyLength</pre>
<div class="block">The length of the secret key used to encrypt the document.</div>
</li>
</ul>
<a name="encryptionKey">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptionKey</h4>
<pre>protected&nbsp;byte[] encryptionKey</pre>
<div class="block">The encryption key that will used to encrypt / decrypt.</div>
</li>
</ul>
<a name="document">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>document</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/pdfbox/pdmodel/PDDocument.html" title="class in org.apache.pdfbox.pdmodel">PDDocument</a> document</pre>
<div class="block">The document whose security is handled by this security handler.</div>
</li>
</ul>
<a name="rc4">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rc4</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/pdfbox/encryption/ARCFour.html" title="class in org.apache.pdfbox.encryption">ARCFour</a> rc4</pre>
<div class="block">The RC4 implementation used for cryptographic functions.</div>
</li>
</ul>
<a name="currentAccessPermission">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>currentAccessPermission</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/pdfbox/pdmodel/encryption/AccessPermission.html" title="class in org.apache.pdfbox.pdmodel.encryption">AccessPermission</a> currentAccessPermission</pre>
<div class="block">The access permission granted to the current user for the document. These
 permissions are computed during decryption and are in read only mode.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SecurityHandler()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SecurityHandler</h4>
<pre>public&nbsp;SecurityHandler()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="prepareDocumentForEncryption(org.apache.pdfbox.pdmodel.PDDocument)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareDocumentForEncryption</h4>
<pre>public abstract&nbsp;void&nbsp;prepareDocumentForEncryption(<a href="../../../../../org/apache/pdfbox/pdmodel/PDDocument.html" title="class in org.apache.pdfbox.pdmodel">PDDocument</a>&nbsp;doc)
                                           throws <a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a>,
                                                  <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Prepare the document for encryption.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>doc</code> - The document that will be encrypted.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a></code> - If there is an error while preparing.</dd>
<dd><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - If there is an error with the document.</dd></dl>
</li>
</ul>
<a name="prepareForDecryption(org.apache.pdfbox.pdmodel.encryption.PDEncryptionDictionary, org.apache.pdfbox.cos.COSArray, org.apache.pdfbox.pdmodel.encryption.DecryptionMaterial)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareForDecryption</h4>
<pre>public abstract&nbsp;void&nbsp;prepareForDecryption(<a href="../../../../../org/apache/pdfbox/pdmodel/encryption/PDEncryptionDictionary.html" title="class in org.apache.pdfbox.pdmodel.encryption">PDEncryptionDictionary</a>&nbsp;encDictionary,
                        <a href="../../../../../org/apache/pdfbox/cos/COSArray.html" title="class in org.apache.pdfbox.cos">COSArray</a>&nbsp;documentIDArray,
                        <a href="../../../../../org/apache/pdfbox/pdmodel/encryption/DecryptionMaterial.html" title="class in org.apache.pdfbox.pdmodel.encryption">DecryptionMaterial</a>&nbsp;decryptionMaterial)
                                   throws <a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a>,
                                          <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Prepares everything to decrypt the document.
 
 If <a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html#decryptDocument(org.apache.pdfbox.pdmodel.PDDocument, org.apache.pdfbox.pdmodel.encryption.DecryptionMaterial)"><code>decryptDocument(PDDocument, DecryptionMaterial)</code></a> is used, this method is
 called from there. Only if decryption of single objects is needed this should be called instead.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>encDictionary</code> - encryption dictionary, can be retrieved via <a href="../../../../../org/apache/pdfbox/pdmodel/PDDocument.html#getEncryptionDictionary()"><code>PDDocument.getEncryptionDictionary()</code></a></dd><dd><code>documentIDArray</code> - document id which is returned via <a href="../../../../../org/apache/pdfbox/cos/COSDocument.html#getDocumentID()"><code>COSDocument.getDocumentID()</code></a></dd><dd><code>decryptionMaterial</code> - Information used to decrypt the document.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - If there is an error accessing data.</dd>
<dd><code><a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a></code> - If there is an error with decryption.</dd></dl>
</li>
</ul>
<a name="decryptDocument(org.apache.pdfbox.pdmodel.PDDocument, org.apache.pdfbox.pdmodel.encryption.DecryptionMaterial)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decryptDocument</h4>
<pre>public abstract&nbsp;void&nbsp;decryptDocument(<a href="../../../../../org/apache/pdfbox/pdmodel/PDDocument.html" title="class in org.apache.pdfbox.pdmodel">PDDocument</a>&nbsp;doc,
                   <a href="../../../../../org/apache/pdfbox/pdmodel/encryption/DecryptionMaterial.html" title="class in org.apache.pdfbox.pdmodel.encryption">DecryptionMaterial</a>&nbsp;mat)
                              throws <a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a>,
                                     <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Prepare the document for decryption.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>doc</code> - The document to decrypt.</dd><dd><code>mat</code> - Information required to decrypt the document.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a></code> - If there is an error while preparing.</dd>
<dd><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - If there is an error with the document.</dd></dl>
</li>
</ul>
<a name="proceedDecryption()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>proceedDecryption</h4>
<pre>protected&nbsp;void&nbsp;proceedDecryption()
                          throws <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                 <a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a></pre>
<div class="block">This method must be called by an implementation of this class to really proceed
 to decryption.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - If there is an error in the decryption.</dd>
<dd><code><a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a></code> - If there is an error in the decryption.</dd></dl>
</li>
</ul>
<a name="encryptData(long, long, java.io.InputStream, java.io.OutputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptData</h4>
<pre>public&nbsp;void&nbsp;encryptData(long&nbsp;objectNumber,
               long&nbsp;genNumber,
               <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;data,
               <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;output)
                 throws <a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a>,
                        <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>While this works fine for RC4 encryption, it will never decrypt AES data
             You should use encryptData(objectNumber, genNumber, data, output, decrypt)
             which can do everything.  This function is just here for compatibility
             reasons and will be removed in the future.</i></div>
<div class="block">Encrypt a set of data.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>objectNumber</code> - The data object number.</dd><dd><code>genNumber</code> - The data generation number.</dd><dd><code>data</code> - The data to encrypt.</dd><dd><code>output</code> - The output to write the encrypted data to.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a></code> - If there is an error during the encryption.</dd>
<dd><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - If there is an error reading the data.</dd></dl>
</li>
</ul>
<a name="encryptData(long, long, java.io.InputStream, java.io.OutputStream, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptData</h4>
<pre>public&nbsp;void&nbsp;encryptData(long&nbsp;objectNumber,
               long&nbsp;genNumber,
               <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;data,
               <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;output,
               boolean&nbsp;decrypt)
                 throws <a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a>,
                        <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Encrypt a set of data.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>objectNumber</code> - The data object number.</dd><dd><code>genNumber</code> - The data generation number.</dd><dd><code>data</code> - The data to encrypt.</dd><dd><code>output</code> - The output to write the encrypted data to.</dd><dd><code>decrypt</code> - true to decrypt the data, false to encrypt it</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a></code> - If there is an error during the encryption.</dd>
<dd><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - If there is an error reading the data.</dd></dl>
</li>
</ul>
<a name="decryptStream(org.apache.pdfbox.cos.COSStream, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decryptStream</h4>
<pre>public&nbsp;void&nbsp;decryptStream(<a href="../../../../../org/apache/pdfbox/cos/COSStream.html" title="class in org.apache.pdfbox.cos">COSStream</a>&nbsp;stream,
                 long&nbsp;objNum,
                 long&nbsp;genNum)
                   throws <a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a>,
                          <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This will decrypt a stream.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>stream</code> - The stream to decrypt.</dd><dd><code>objNum</code> - The object number.</dd><dd><code>genNum</code> - The object generation number.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a></code> - If there is an error getting the stream.</dd>
<dd><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - If there is an error getting the stream data.</dd></dl>
</li>
</ul>
<a name="encryptStream(org.apache.pdfbox.cos.COSStream, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptStream</h4>
<pre>public&nbsp;void&nbsp;encryptStream(<a href="../../../../../org/apache/pdfbox/cos/COSStream.html" title="class in org.apache.pdfbox.cos">COSStream</a>&nbsp;stream,
                 long&nbsp;objNum,
                 long&nbsp;genNum)
                   throws <a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a>,
                          <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This will encrypt a stream, but not the dictionary as the dictionary is
 encrypted by visitFromString() in COSWriter and we don't want to encrypt
 it twice.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>stream</code> - The stream to decrypt.</dd><dd><code>objNum</code> - The object number.</dd><dd><code>genNum</code> - The object generation number.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a></code> - If there is an error getting the stream.</dd>
<dd><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - If there is an error getting the stream data.</dd></dl>
</li>
</ul>
<a name="decryptString(org.apache.pdfbox.cos.COSString, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decryptString</h4>
<pre>public&nbsp;void&nbsp;decryptString(<a href="../../../../../org/apache/pdfbox/cos/COSString.html" title="class in org.apache.pdfbox.cos">COSString</a>&nbsp;string,
                 long&nbsp;objNum,
                 long&nbsp;genNum)
                   throws <a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a>,
                          <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This will decrypt a string.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>string</code> - the string to decrypt.</dd><dd><code>objNum</code> - The object number.</dd><dd><code>genNum</code> - The object generation number.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/pdfbox/exceptions/CryptographyException.html" title="class in org.apache.pdfbox.exceptions">CryptographyException</a></code> - If an error occurs during decryption.</dd>
<dd><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - If an error occurs writing the new string.</dd></dl>
</li>
</ul>
<a name="getKeyLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyLength</h4>
<pre>public&nbsp;int&nbsp;getKeyLength()</pre>
<div class="block">Getter of the property <tt>keyLength</tt>.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Returns the keyLength.</dd></dl>
</li>
</ul>
<a name="setKeyLength(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeyLength</h4>
<pre>public&nbsp;void&nbsp;setKeyLength(int&nbsp;keyLen)</pre>
<div class="block">Setter of the property <tt>keyLength</tt>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>keyLen</code> - The keyLength to set.</dd></dl>
</li>
</ul>
<a name="getCurrentAccessPermission()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentAccessPermission</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/pdfbox/pdmodel/encryption/AccessPermission.html" title="class in org.apache.pdfbox.pdmodel.encryption">AccessPermission</a>&nbsp;getCurrentAccessPermission()</pre>
<div class="block">Returns the access permissions that were computed during document decryption.
 The returned object is in read only mode.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the access permissions or null if the document was not decrypted.</dd></dl>
</li>
</ul>
<a name="isAES()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAES</h4>
<pre>public&nbsp;boolean&nbsp;isAES()</pre>
</li>
</ul>
<a name="setAES(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setAES</h4>
<pre>public&nbsp;void&nbsp;setAES(boolean&nbsp;aes)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SecurityHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/PublicKeySecurityHandler.html" title="class in org.apache.pdfbox.pdmodel.encryption"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/pdfbox/pdmodel/encryption/SecurityHandlersManager.html" title="class in org.apache.pdfbox.pdmodel.encryption"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/pdfbox/pdmodel/encryption/SecurityHandler.html" target="_top">Frames</a></li>
<li><a href="SecurityHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
